Using The Overture Parser
=========================

The Overture parser can be enabled from VDMJ, assuming you have the jar files
for the parser and its support classes (org.overturetool.parser.jar and VDM.jar)
on your classpath.

See http://www.overturetool.org/twiki/bin/view/Main/OvertureParser

For example:

	JAR=$(ls -t vdmj*.jar | head -1)
	CP="VDM.jar;org.overturetool.parser.jar;$JAR"
	java -Xmx1024m -cp $CP org.overturetool.vdmj.VDMJ -overture $@

Overture is enabled with the -overture argument in place of -vdmpp or -vdmsl (note
that Overture parses VDM++ with VICE extensions, though VDMJ can only check and
interpret VDM++). This will use Overture to parse the source files and then
translate the AST tree into VDMJ's internal format. This is naturally slower than
using VDMJ's native parser. The information messages from the tool indicate that
Overture was used and show the extra AST translation time:

Overture parsed 544 classes in 4.433 secs (0.611 secs AST convert). No parse errors
Type checked 544 classes in 47.54 secs. No type errors and suppressed 3 warnings
Initialized 544 classes in 16.478 secs. 
Interpreter started
>

It is also possible to run the VDM++ JUnit tests using the Overture parser.
This is enabled by setting a system property (typically in the launch configuration
of the JUnit test). Use the JVM argument "-Dparser=overture" to enable it.

Note that the Overture parser's errors are currently not very explicit, are slightly
off if the line contains a mixture of tabs and spaces, and are sent directly to
stdout:

	syntax error at (8, 22) after reading token "g"

There are also some known problems with special characters in strings ("\n" etc),
the processing of some international character sets, and its syntax error recovery
is fairly simple.
